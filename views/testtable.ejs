<!DOCTYPE html>
<html>

<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<link href="/css/viewscholarship.css" rel="stylesheet">

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">




</head>

<body >
	<div>

		<div>
			<img src="/images/qau1.png" height="100px" width="700px" style="margin-left: 300px">

		</div>
		<div >
			<div class="nav">
				<ul>
					<li class="Dashbord"><a href="/page/dashbord">Dashbord</a></li>
					<li class="Schorarship"><a href="/page/scholarships">Schorarship</a></li>
					<li class="Transport"><a href="/page/transports">Transport</a></li>
					<li class="Dining"><a href="/page/dining">Dining</a></li>
					<li class="Program"><a href="/page/notification">Notification</a></li>
					<li class="Events"><a href="/page/events">Events</a></li>
					<li class="News"><a href="/page/news">News</a></li>
					<li class="News"><a href="/page/admission">Admission</a></li>
					<li class="Logout" style="float:right"><a href="/">Logout</a></li>
					<div class="dropdown">
						<button class="dropbtn">Data View 
      <i class="fa fa-caret-down"></i>
    </button>
						<div class="dropdown-content">
							<a href="/page/viewscholarships">Schorarship Data</a>
							<a class="active" href="/page/viewstransport">Transport Data</a>
							<a href="/page/viewsdining">Dining Data</a>
							<a href="/page/viewsevent">Events Data</a>
							<a href="/page/viewnews">News Data</a>
							<a href="/page/viewadmission">Admission Data</a>
	  <a href="/page/viewnotification">Notification Data</a>

						</div>
					</div>


				</ul>

			</div>
			<h1 style="margin-left:40%">Data of Schorarship</h1>

                        <table id="data" class="table table-bordered table-striped" style="width:100%; margin-left:10px; margin-right:50px;" >
                        <thead>
                            <tr>
                        <th width="5%">route</th>
                        <th width="5%">busno</th>
                        <th width="5%">detail</th>
                        <th width="5%">time</th>
                        <th width="5%">Update</th>
                        <th width="5%">Delete</th>
                    
                            </tr>
                            </thead>

                            <% for( var i=0;i<myjson.length;i++){ %>
                                    <tr onclick="javascript:showRow(this,'<%=store[i].image%>');">
                                      <td ><img height="100" width= "100" class="w3-circle w3-btn w3-white w3-border w3-border-red w3-round-large" src=<%= store[i].image %>></td>
                                      <td ><%= myjson[i].route %></td>
            
                                          <td ><%= myjson[i].detail %></td>
            
                                          <td ><%= myjson[i].time %></td>
                                    
                                          <!-- <td><a href='/removeStoreItem/<%=store[i]._id%>/delete'><i class="fa fa-trash-o" aria-hidden="true"></i></a></td> -->
                                        </tr>
                                        <% } %>
                            </table>


                            <div id="myModal" class="modal">
                                    <div class="modalcard"  >
                                    <div class = "modal-content" >
                                      <span class="close" onclick="document.getElementById('myModal').style.display='none'">&times;</span>
                                      <img id="imag" style="width:100%; height:100%">
                                      <form class="container1"  method="post"  enctype="multipart/form-data"  action='/updateStore/updateImage'>
                                        <div class="row">
                                          <input type="text" id="unique" name="unique" ></input>
                                          <div class="col-25">
                                            <label for="userFile">Image</label>
                                          </div>
                                          <div class="col-75">
                                            <input type=file name="userFile"  id="userFile" required="required">
                                          </div>
          
                                        </div>
                                        <div class="input-group-btn">
                                          <button class="w3-btn w3-white w3-border w3-border-red w3-round-large" type="submit"><i>Update Image!</i></button>
                                        </div>
                                      </form>
                                      <form class="container1"  method="post"  enctype="application/x-www-form-urlencoded"  action='/updateStore/something/edit'>
                                      <input type="text" id="unique1" name="unique1" ></input>
          
                                        <div class="row">
                                          <div class="col-25">
                                            <label for="title">Title</label>
                                          </div>
                                          <div class="col-75">
                                            <input type=text name="title"  id="title" required="required">
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-25">
                                            <label for="description">Description</label>
                                          </div>
                                          <div class="col-75">
                                            <input type=text name="description"  id="description" required="required">
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-25">
                                            <label for="color">Color</label>
                                          </div>
                                          <div class="col-75">
                                            <input type="color" id="color" name="color" value="#ff0000">
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-25">
                                            <label for="featured">Featured</label>
                                          </div>
                                          <div class="col-75">
                                            <select name="featured">
                                            <option value="false">False </option>
                                                <option value="true">True (visible in featured items)</option>
                                                </select>
                                          </div>
                                        </div>
          
          
                                        <div class="input-group-btn">
                                          <button class="w3-btn w3-white w3-border w3-border-red w3-round-large" type="submit"><i>Update!</i></button>
                                        </div>
                                      </form>
                                      </div>
                                              </div>
                                            </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>



                         <!-- Necessary Plugins-->
                          <script>
              function myFunction() {
                var input, filter, table, tr, td, i;
                input = document.getElementById("myInput");
                filter = input.value.toUpperCase();
                table = document.getElementById("myTable");
                tr = table.getElementsByTagName("tr");
                for (i = 0; i < tr.length; i++) {
                  td = tr[i].getElementsByTagName("td")[0];
                  if (td) {
                    if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                      tr[i].style.display = "";
                    } else {
                      tr[i].style.display = "none";
                    }
                  }
                }
              }
              </script>



<script>
        // Get the modal
        var modal = document.getElementById('myModal');

        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
        // When the user clicks the button, open the modal
        btn.onclick = function() {


            modal.style.display = "block";

        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
            modal.style.display='none'
        }

        // When the user clicks anywhere outside of the modal, close it


        function showRow(row,url)
        {
        var x=row.cells;
        document.getElementById("title").value = x[1].innerHTML;
        document.getElementById("description").value = x[2].innerHTML;
        document.getElementById("color").value = x[3].innerHTML;
        document.getElementById("unique").value = url;
        document.getElementById("unique1").value = url;
        document.getElementById("imag").src = url;
          modal.style.display = "block";
        }
        </script>
       
        <script>
            var myjson;
            $.getJSON("http://localhost:3000/api/routes", function(json){
            myjson = json;
            console.log(myjson);
});
        
        </script>



<!-- 
        <script>
                            $(".btn[data-target='#myModal']").click(function() {
                    var columnHeadings = $("thead th").map(function() {
                                return $(this).text();
                            }).get();
                    columnHeadings.pop();
                    var columnValues = $(this).parent().siblings().map(function() {
                                return $(this).text();
                    }).get();
                var modalBody = $('<div id="modalContent"></div>');
                var modalForm = $('<form role="form" name="modalForm" action="putYourPHPActionHere.php" method="post"></form>');
                $.each(columnHeadings, function(i, columnHeader) {
                    var formGroup = $('<div class="form-group"></div>');
                    formGroup.append('<label for="'+columnHeader+'">'+columnHeader+'</label>');
                    formGroup.append('<input class="form-control" name="'+columnHeader+i+'" id="'+columnHeader+i+'" value="'+columnValues[i]+'" />'); 
                    modalForm.append(formGroup);
                });
                modalBody.append(modalForm);
                $('.modal-body').html(modalBody);
                });
                $('.modal-footer .btn-primary').click(function() {
                $('form[name="modalForm"]').submit();
                });
        
        
        
        </script> -->
	<!-- <script>
populateTable();
function populateTable(){
        var mydata;
        var userdata;
      $(document).ready(function(){
        console.log('Unable to put data');

       
                $.getJSON("http://localhost:3000/api/routes", function(data){
                    console.log(data);
                 
  
                    $.each(data, function(i, field){
                   
                       $('#data').append('<tr><td>'+field.route+'</td><td>'+field.detail+
                        '</td><td>'+field.busno+'</td><td>'+field.time+' </td><td><a href="#" id="btn1" class="deletetransport"   rel="' + this._id + '" >delete</a></td><td> <a href=""  class="btn btn-warning"  class="btn btn-success" data-toggle="modal" data-target="#myModal"contenteditable="false"><span class="glyphicon glyphicon-edit"></span>Update</a></td></tr>' 
            
                    );

                   
                       
                        });
                })
               
            });
          }



	</script> -->

<!-- <script>
	$('#data tbody').on('click', 'td a.deletetransport', function deletetransport(event){


    event.preventDefault();
    // Pop up a confirmation dialog
    var confirmation = confirm('Are you sure you want to delete this user?');
    // Check and make sure the user confirmed
    if (confirmation === true) {
        // If they did, do our delete
        $.ajax({
            method:'DELETE',
            type: 'DELETE',
            url: '/api/routes/delete/'  + $(this).attr('rel'),

        }).done(function( response) {
          
           
          
                      // Check for a successful (blank) response
          
                      if (response.msg == '') {
                       
          
                      }
          
                      else {
                     
                        alert('sucessfully deleted!');
                        location.reload();
                        
          
                      }

});
}else {

// If they said no to the confirm, do nothing

        return false;

    }
})
</script> -->

</body>

</html>