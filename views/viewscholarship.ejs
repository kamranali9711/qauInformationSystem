<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<link href="/css/viewscholarship.css" rel="stylesheet">

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<!-- For search  and paging -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" type="text/css" href="CSS/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="CSS/dataTables.bootstrap.css">
    
   <link rel="stylesheet" type="text/css" href="CSS/Style.css">
 <script type="text/javascript" src="JS/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="JS/jquery.dataTables.js"></script>
    <script type="text/javascript" src="JS/dataTables.bootstrap.js"></script>

</head>
<body >
<div>
	
		 <div  >
        <img src="/images/qau1.png" height="100px" width="700px" style="margin-left: 300px">
        
    </div>
	<div>
			<div class="nav">
				<ul >
				<li class="Dashbord"><a href="/page/dashbord">Dashbord</a></li>
				<li class="Schorarship"><a  href="/page/scholarships">Schorarship</a></li>
				<li class="Transport"><a href="/page/transports">Transport</a></li>
				<li class="Dining"><a href="/page/dining">Dining</a></li>
				<li class="Program"><a href="/page/notification">Notification</a></li>
				<li class="Events"><a href="/page/events">Events</a></li>
				<li class="News"><a href="/page/news">News</a></li>
				<li class="News"><a href="/page/admission">Admission</a></li>
				<li class="Logout" style="float:right"><a href="/">Logout</a></li>
				<div class="dropdown">
    <button class="dropbtn">Data View 
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a class="active" href="/page/viewscholarships">Schorarship Data</a>
      <a href="/page/viewstransport">Transport Data</a>
      <a href="/page/viewsdining">Dining Data</a>
	  <a href="/page/viewsevent">Events Data</a>
	  <a href="/page/viewnews">News Data</a>
	  <a href="/page/viewadmission">Admission Data</a>
	  <a href="/page/viewnotification">Notification Data</a>
	  
    </div>
  </div> 
  

			  </ul>
			
			</div>
		
				<h1 style="margin-left:40%">Data of Schorarship</h1>
				
			
                <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for title.." title="Type in a name"
                style=" margin-top:auto"; width="70px"
                >

		<table id="data" class="responstable,table table-striped table-bordered" style="width:100%; margin-left:auto; margin-right:auto;" >
                    <tr>
                    <th width="20%">title</th>
                    <th width="30%">requirement</th>
                    <th width="30%">description</th>
                    <th width="10%">date</th>
                    <th width="5%">Update</th>
                    <th width="5%">Delete</th>
 
</tr>
        </table>


	</div>
	
</div>

<!-- Band Description -->


<script>
populateTable();
function populateTable(){
        var mydata;
        var userdata;
      $(document).ready(function(){
        console.log('Unable to put data');

       
                $.getJSON("http://localhost:3000/api/scholarship", function(data){
                    console.log(data);
      
                /*var id;
                for(var i = 0 ; i <data.length ; i++ )
                {
                  id = data[i]._id;
                  console.log(id);
                }
*/
               
  
                    $.each(data, function(i, field){
                   
                       $('#data').append('<tr><td>'+field.title+'</td><td>'+field.requirement+
                        '</td><td>'+field.description+'</td><td>'+field.date+' </td><td><a href="#" id="btn1" class="deletetransport"   rel="' + this._id + '" >delete</a></td><td> <a href=""  class="btn btn-warning" onclick="Change()><span class="glyphicon glyphicon-edit"></span>Update</a></td></tr>' 
            
                    );

                   
                       
                        });
                })
               
            });
          }
</script>

<script>
	$('#data tbody').on('click', 'td a.deletetransport', function deletetransport(event){


    event.preventDefault();
    // Pop up a confirmation dialog
    var confirmation = confirm('Are you sure you want to delete this user?');
    // Check and make sure the user confirmed
    if (confirmation === true) {
        // If they did, do our delete
        $.ajax({
            method:'DELETE',
            type: 'DELETE',
            url: '/api/scholarship/delete/'  + $(this).attr('rel'),

        }).done(function( response) {
          
           
          
                      // Check for a successful (blank) response
          
                      if (response.msg == '') {
                       
          
                      }
          
                      else {
                     
                        alert('sucessfully deleted!');
                        location.reload();
                        
          
                      }

});
}else {

// If they said no to the confirm, do nothing

        return false;

    }
})
</script>


<script type="text/javascript">
    $(document).ready(function () {
        $('#data').dataTable({
            "iDisplayLength": 5,
            "lengthMenu": [5,10, 25, 50, 100]
        });
    });
</script>




<script>
        function myFunction() {
          var input, filter, table, tr, td, i;
          input = document.getElementById("myInput");
          filter = input.value.toUpperCase();
          table = document.getElementById("data");
          tr = table.getElementsByTagName("tr");
          for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[0];
            if (td) {
              if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
              } else {
                tr[i].style.display = "none";
              }
            }       
          }
        }
        </script>







</body>
</html>

